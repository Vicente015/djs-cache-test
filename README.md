# djs-cache-test

This is a test to compare the data received on events between discord.js-light and  discord.js v13 with the new option to disable caches.
All tests have been done with all intents and partials enabled.
You can see the code used in `index.js`.

## Events

| Event                      | Emits in djs-light       | Notes in djs-light                                                                                                                                                                                                                                         | Emits in djs       | Notes in djs                                                           | Managers with cache at 0                                        |
| :------------------------- | :----------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------- | ---------------------------------------------------------------------- | --------------------------------------------------------------- |
| channelCreate              | Channel                  | -                                                                                                                                                                                                                                                          | Channel            | -                                                                      | ChannelManager, GuildChannelManager                             |
| channelDelete              | Channel                  | -                                                                                                                                                                                                                                                          | Channel?           | Only emits if channels are cached                                      | ChannelManager, GuildChannelManager                             |
| channelPinsUpdate          | Channel, Date            | Partial Channel if not cached                                                                                                                                                                                                                              | Channel?           | Only emits if channels are cached                                      | ChannelManager, GuildChannelManager                             |
| channelUpdate              | Channel?, Channel        | Old Channel is NULL if not cached                                                                                                                                                                                                                          | Channel?, Channel? | Only emits if Channels are cached                                      | ChannelManager, GuildChannelManager                             |
| emojiCreate                | Emoji                    | Only emits if Emojis are cached                                                                                                                                                                                                                            | Emoji              |                                                                        | BaseGuildEmojiManager, GuildEmojiManager, GuildEmojiRoleManager |
| emojiDelete                | Emoji                    | Only emits if Emojis are cached                                                                                                                                                                                                                            | Emoji?             | Only emits if emojis are cached                                        | BaseGuildEmojiManager, GuildEmojiManager, GuildEmojiRoleManager |
| emojiUpdate                | Emoji, Emoji             | Only emits if Emojis are cached                                                                                                                                                                                                                            | Emoji?,Emoji?      | Don't emit but instead emit emojiCreate with the new emoji data (wtf?) | BaseGuildEmojiManager, GuildEmojiManager, GuildEmojiRoleManager |
| guildBanAdd                | Guild, User              | Partial Guild if not cached                                                                                                                                                                                                                                | Guild?, User?      | Only emits if guilds are cached                                        | GuildManager, GuildBanManager                                   |
| guildBanRemove             | Guild, User              | Partial Guild if not cached                                                                                                                                                                                                                                | Guild?, User?      | Only emits if guilds are cached                                        | GuildManager, GuildBanManager                                   |
| guildCreate                | Guild                    | Does not include disabled data                                                                                                                                                                                                                             | Guild              | Does not include disabled data                                         | GuildManager                                                    |
| guildDelete                | Guild                    | Partial Guild if not cached                                                                                                                                                                                                                                | Guild?             | Only emits if guilds are cached                                        | GuildManager                                                    |
| guildEmojisUpdate          | Collection               | Non-standard event. Emitted instead of Emoji events when Emojis are not cached. Provides a Collection of updated Emojis                                                                                                                                    | -                  | This event doesn't exist in djs wtf                                    | -                                                               |
| guildIntegrationsUpdate    | Guild                    | Partial Guild if not cached                                                                                                                                                                                                                                | -                  | I don't know how to test this                                          | -                                                               |
| guildMemberAdd             | Member                   | Includes some User data                                                                                                                                                                                                                                    | Member             | Includes some User data, not emmited if guild is uncached              | GuildMemberManager, GuildMemberRoleManager                      |
| guildMemberRemove          | Member                   | Partial Member if not cached                                                                                                                                                                                                                               | Member             | Partial Member if not cached, not emmited if guild is uncached         | GuildMemberManager, GuildMemberRoleManager                      |
| guildMemberUpdate          | Member?, Member          | Old Member is NULL if not cached. new Member includes some User data                                                                                                                                                                                       | Member, Memebr     | Old Member is partial, new member is not partial                       | GuildMemberManager, GuildMemberRoleManager                      |
| guildUnavailable           | Guild                    | Partial Guild if not cached                                                                                                                                                                                                                                | -                  | -                                                                      | -                                                               |
| guildUpdate                | Guild?, Guild            | Old Guild is NULL if not cached                                                                                                                                                                                                                            | Guild?, Guild?     | Only emits if Guilds are cached                                        | GuildManager                                                    |
| inviteCreate               | Invite                   | Includes some User data                                                                                                                                                                                                                                    | Invite             | -                                                                      | GuildInviteManager                                              |
| inviteDelete               | Invite                   | -                                                                                                                                                                                                                                                          | Invite             | -                                                                      | GuildInviteManager                                              |
| messageCreate              | Message                  | Includes some User and Member data                                                                                                                                                                                                                         | Message?           | Only emits if Messages, Channels and Guilds are cached                 | MessageManager                                                  |
| messageDelete              | Message                  | Partial Message if not cached                                                                                                                                                                                                                              | Message            | Partial message if not cached                                          | MessageManager                                                  |
| messageDeleteBulk          | Collection               | Collection of deleted Messages or Partial Messages as above                                                                                                                                                                                                | Collection         | Collection of deleted Messages or Partial Messages as above            | MessageManager                                                  |
| messageReactionAdd         | Reaction, User           | Includes some User and Member data (partial if DMs)                                                                                                                                                                                                        | Reaction, User     | Partial reaction, partial user if not cached                           | ReactionManager, ReactionUserManager                            |
| messageReactionRemove      | Reaction, User           | Partial User if not cached                                                                                                                                                                                                                                 | Reaction, User     | Partial reaction, partial user if not cached                           | ReactionManager, ReactionUserManager                            |
| messageReactionRemoveAll   | Message                  | Partial Message if not cached                                                                                                                                                                                                                              | Message            | Partial message always                                                 | ReactionManager, ReactionUserManager                            |
| messageReactionRemoveEmoji | Reaction                 | -                                                                                                                                                                                                                                                          |                    |                                                                        | ReactionManager, ReactionUserManager                            |
| messageUpdate              | Message?, Message        | Old Message is NULL if not cached. New Message includes some User and Member data                                                                                                                                                                          |                    |                                                                        |                                                                 |
| presenceUpdate             | Presence?, Presence      | Old Presence is NULL if not cached. New Presence includes some Member data                                                                                                                                                                                 |                    | Crash if the manager is limited lmao                                   | PresenceManager                                                 |
| rest                       | Object                   | Non-standard event. Emitted when the library makes an API request to Discord. Provides an object containing the request method, path and optionally a response buffer (buffer is only included if the client option restEventIncludeBuffer is set to true) |                    |                                                                        |                                                                 |
| roleCreate                 | Role                     | -                                                                                                                                                                                                                                                          |                    |                                                                        |                                                                 |
| roleDelete                 | Role                     | Partial Role if not cached                                                                                                                                                                                                                                 |                    |                                                                        |                                                                 |
| roleUpdate                 | Role?, Role              | Old Role is NULL if not cached                                                                                                                                                                                                                             |                    |                                                                        |                                                                 |
| shardConnect               | Number, Collection       | Non-standard event. Emitted when a shard connects to Discord. Provides a Shard ID and a Collection of Partial Guilds assigned to this shard                                                                                                                |                    |                                                                        |                                                                 |
| typingStart                | Channel, User            | Partial Channel. Includes some User and Member data (partial if DMs)                                                                                                                                                                                       |                    |                                                                        |                                                                 |
| userUpdate                 | User?, User              | Old User is NULL if not cached                                                                                                                                                                                                                             |                    |                                                                        |                                                                 |
| voiceStateUpdate           | VoiceState?, VoiceState? | NULL when data does not include a Channel ID (indicates disconnection). Includes some User and Member data                                                                                                                                                 |                    |                                                                        |                                                                 |
| webhookUpdate              | Channel                  | Partial Channel if not cached                                                                                                                                                                                                                              |                    |                                                                        |                                                                 |
